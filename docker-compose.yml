version: '3'
services:
  url-shortener-service:
    build: ./url-shortener-service
    ports:
      - 8000:8000
  krakend:
    image: devopsfaith/krakend
    profiles:
      - api_gateway
    ports:
      - 80:80
    volumes:
      - ./krakend.json:/etc/krakend/krakend.json
    depends_on:
      - url-shortener-service